import os

from typing import Dict

import pandas as pd


category_data: Dict[str, float] = {}


def calculate_category_total(category: str) -> float:
    """
    Рассчитывает общую сумму для указанной категории.

    Эта функция проверяет словарь category_data, чтобы найти сумму по заданной категории.
    Если категория не найдена, возвращается 0.0.

    Args:
        category (str): Название категории, для которой нужно рассчитать сумму.

    Returns:
        float: Сумма по категории, или 0.0, если категория не найдена.
    """
    # Получаем значение для категории из словаря, если его нет — возвращаем 0.0
    total = category_data.get(category, 0.0)
    return total


def get_category_average(category: str) -> float:
    """
    Рассчитывает среднее значение по всем категориям, если категория присутствует в данных.

    Эта функция использует словарь category_data для вычисления среднего значения.
    Если данных по категории нет, возвращается 0.0.

    Args:
        category (str): Название категории, для которой нужно вычислить среднее значение.

    Returns:
        float: Среднее значение по всем категориям, или 0.0, если данных нет.
    """
    # Если категория отсутствует в данных или данных нет в целом, возвращаем 0.0
    if category not in category_data or len(category_data) == 0:
        return 0.0

    # Возвращаем среднее значение всех данных в словаре category_data
    return sum(category_data.values()) / len(category_data)


def process_report(data: Dict[str, float]) -> float:
    """
    Обрабатывает отчет по данным категории и рассчитывает среднее значение.

    Функция принимает словарь данных, где ключи — это категории, а значения — суммы для этих категорий.
    Рассчитывается среднее значение по всем данным в словаре.

    Args:
        data (Dict[str, float]): Словарь, содержащий данные по категориям (ключи — категории, значения — суммы).

    Returns:
        float: Среднее значение по всем категориям в словаре.
    """
    # Если данные пустые, возвращаем 0.0, иначе рассчитываем среднее значение
    return sum(data.values()) / len(data) if data else 0.0
